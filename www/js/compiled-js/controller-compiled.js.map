{"version":3,"sources":["controller.js"],"names":[],"mappings":";;;;AAAA;;;;AAIA;;;;;;;;AAQA;AACA,eAAe,4BAAf,EAA6C,UAA7C,GAA0D;;AAEtD;;;AAGA,aAAS,mBAAU;;AAEf;AACA,YAAI,KAAJ,yDAAU;AAAA;AAAA;AAAA;AAAA;AACN;AACA,gCAAI,kCAAJ,CAAuC,YAAU;AAC7C;AACH,6BAFD;;AAIA;AACA,8BAAE,uBAAF,EAA2B,IAA3B,CAAgC,gBAAhC;AACA,8BAAE,eAAF,EAAmB,GAAnB,CAAuB,CAAvB,EAA0B,IAA1B,GARM,CAQ4B;;AAElC,gCAAG,IAAH,EAAQ;AAAE;AACN;AACA,kCAAE,cAAF,EAAkB,GAAlB,CAAsB,CAAtB,EAAyB,OAAzB,CAAiC,IAAjC,CAAsC,mBAAtC;AAEH,6BAJD,MAKI;AAAE;AACF;AACA,kCAAE,cAAF,EAAkB,GAAlB,CAAsB,CAAtB,EAAyB,OAAzB,CAAiC,IAAjC,CAAsC,gBAAtC;AACH;;AAED;AACA,gCAAG;AACC;AACA,uCAAO,WAAP,CAAmB,IAAnB,CAAwB,UAAxB;AACH,6BAHD,CAIA,OAAM,GAAN,EAAU,CAAE;;AAzBN;AA4BA;;AAEF;AACA,2CAAe,4BAAf,EAA6C,KAA7C,CAAmD,WAAnD,GAAiE,IAAI,OAAJ,CAAY,0BAAZ,EAAwC;AACrG,yCAAS,gBAD4F;AAErG,0CAAU,SAF2F;AAGrG,+DAA+B;AAHsE,6BAAxC,CAAjE;;AAMA;AACA,2CAAe,4BAAf,EAA6C,KAA7C,CAAmD,oBAAnD,GACI,IAAI,OAAJ,CAAY,mCAAZ,EAAiD;AACjD,yCAAS,gBADwC;AAEjD,0CAAU,SAFuC;AAGjD,+DAA+B;AAHkB,6BAAjD,CADJ;;AAOA;AACA,gCAAG,CAAC,OAAO,YAAP,CAAoB,OAApB,CAA4B,sCAA5B,CAAD,IACC,OAAO,YAAP,CAAoB,OAApB,CAA4B,sCAA5B,MAAwE,EAD5E,EACgF;AAC5E,uCAAO,YAAP,CAAoB,OAApB,CAA4B,sCAA5B,EACI,OAAO,KAAP,CAAa,eAAe,4BAAf,EAA6C,mBAA1D,CADJ;AAEH;AACD;AAnDE;AAAA,mCAoDI,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAAyB;AACvC,+CAAe,4BAAf,EAA6C,KAA7C,CAAmD,oBAAnD,CACA,MADA,CACO,OAAO,YAAP,CAAoB,OAApB,CAA4B,sCAA5B,CADP,EAC4E;AACxE,4CAAQ,CAAC,cAAD,EAAiB,UAAjB,CADgE;AAExE,wCAAI,YAAS,GAAT,EAAc,GAAd,EAAkB;AAClB,4CAAG,GAAH,EAAO;AAAE;AACL,mDAAO,GAAP,EADG,CACU;AAChB,yCAFD,MAGI;AAAE;AACF,oDAAQ,GAAR,EADA,CACc;AACjB;AACJ,qCATuE,EAD5E;AAWH,6BAZK,CApDJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAoEF,oCAAQ,GAAR,CAAY,mBAAZ;;AApEE;AAAA;;AAuEF;AACA,sCAAU,0BAAV,CAAqC,SAArC;AACA,sCAAU,YAAV,CAAuB,IAAvB,GAzEE,CAyE6B;AAC/B,2CAAe,4BAAf,EAA6C,KAA7C,CAAmD,UAAnD,GAAgE,IAAhE,CA1EE,CA0EoE;AA1EpE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAV,IAHe,CAgFX;AAEP,KAvFqD;;AAyFtD;;;AAGA,uBAAmB;;AAGf;;;AAGA,kBAAU,kBAAS,KAAT,EAAe;;AAOrB;AAPqB;AAAA,oFAQrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEQ,CAAC,IAAI,OAAJ,EAAD,IAAkB,eAAe,4BAAf,EAA6C,KAA7C,CAAmD,UAAnD,KAAkE,KAF5F;AAAA;AAAA;AAAA;;AAGQ,+CAAW,kBAAX,EAA+B,GAA/B,EAHR,CAG6C;AAH7C;;AAAA;;AAOI,wCAAG;AACK,2DADL,GAC2B,IAAI,QAAJ,CAAa,EAAE,2CAAF,EAA+C,GAA/C,CAAmD,CAAnD,CAAb,EAAoE;AAC1F;AACA,wDAAY,IAF8E;AAG1F,wDAAY,CAH8E;AAI1F,sDAAU,IAJgF;AAK1F,kEAAsB,KALoE;AAM1F,2DAAe,EAN2E;AAO1F,0DAAc,CAP4E;AAQ1F,uDAAW,MAR+E;AAS1F,qDAAS,KATiF;AAU1F,6DAAiB,KAVyE;AAW1F,sDAAU;AAXgF,yCAApE,CAD3B;;AAcC,4DAAoB,EAApB,CAAuB,QAAvB,EAAiC,YAAU;AACvC;AACA,gDAAG,oBAAoB,2BAAvB,EAAmD;AAAE;AACjD;AACA,uDAAO,YAAP,CAAoB,oBAAoB,2BAAxC;AACA,oEAAoB,2BAApB,GAAkD,IAAlD;AACH;;AAED;AACA,gEAAoB,2BAApB,GAAkD,OAAO,UAAP,CAAkB,YAAU;AAC1E,oEAAoB,UAApB,GAD0E,CACxC;AACrC,6CAFiD,EAE/C,CAF+C,CAAlD;AAGH,yCAZD;AAaA,4DAAoB,EAApB,CAAuB,aAAvB,EAAsC,UAAS,KAAT,EAAgB,OAAhB,EAAyB,WAAzB,EAAsC,SAAtC,EAAgD;AAClF;AACA,gDAAG,CAAE,WAAL,EAAiB;AAAE;AACf;AACA;AACH;AACD;AACA,8CAAE,qBAAF,EAAyB,GAAzB,CAA6B,CAA7B,EAAgC,QAAhC,CAAyC,2BAAzC,EAAsE,EAAC,WAAW,MAAZ,EAAtE;AACH,yCARD;;AAUI,gEArCL,GAqCgC,IAAI,QAAJ,CAAa,EAAE,6CAAF,EAAiD,GAAjD,CAAqD,CAArD,CAAb,EAAsE;AACjG;AACA,wDAAY,IAFqF;AAGjG,wDAAY,CAHqF;AAIjG,sDAAU,IAJuF;AAKjG,kEAAsB,KAL2E;AAMjG,2DAAe,EANkF;AAOjG,0DAAc,CAPmF;AAQjG,uDAAW,MARsF;AASjG,qDAAS,KATwF;AAUjG,6DAAiB,KAVgF;AAWjG,sDAAU;AAXuF,yCAAtE,CArChC;;AAkDC,iEAAyB,EAAzB,CAA4B,QAA5B,EAAsC,YAAU;AAC5C;AACA,gDAAG,yBAAyB,2BAA5B,EAAwD;AAAE;AACtD;AACA,uDAAO,YAAP,CAAoB,yBAAyB,2BAA7C;AACA,yEAAyB,2BAAzB,GAAuD,IAAvD;AACH;;AAED;AACA,qEAAyB,2BAAzB,GAAuD,OAAO,UAAP,CAAkB,YAAU;AAC/E,yEAAyB,UAAzB,GAD+E,CACxC;AAC1C,6CAFsD,EAEpD,CAFoD,CAAvD;AAGH,yCAZD;AAaA,iEAAyB,EAAzB,CAA4B,aAA5B,EAA2C,UAAS,KAAT,EAAgB,OAAhB,EAAyB,WAAzB,EAAsC,SAAtC,EAAgD;AACvF;AACA,gDAAG,CAAE,WAAL,EAAiB;AAAE;AACf;AACA;AACH;AACD;AACA,8CAAE,qBAAF,EAAyB,GAAzB,CAA6B,CAA7B,EAAgC,QAAhC,CAAyC,2BAAzC,EAAsE,EAAC,WAAW,MAAZ,EAAtE;AACH,yCARD;;AAUI,6DAzEL,GAyE6B,IAAI,QAAJ,CAAa,EAAE,0CAAF,EAA8C,GAA9C,CAAkD,CAAlD,CAAb,EAAmE;AAC3F;AACA,wDAAY,IAF+E;AAG3F,wDAAY,CAH+E;AAI3F,sDAAU,IAJiF;AAK3F,kEAAsB,KALqE;AAM3F,2DAAe,EAN4E;AAO3F,0DAAc,CAP6E;AAQ3F,uDAAW,MARgF;AAS3F,qDAAS,KATkF;AAU3F,6DAAiB,KAV0E;AAW3F,sDAAU;AAXiF,yCAAnE,CAzE7B;;AAsFC,8DAAsB,EAAtB,CAAyB,QAAzB,EAAmC,YAAU;AACzC;AACA,gDAAG,sBAAsB,2BAAzB,EAAqD;AAAE;AACnD;AACA,uDAAO,YAAP,CAAoB,sBAAsB,2BAA1C;AACA,sEAAsB,2BAAtB,GAAoD,IAApD;AACH;;AAED;AACA,kEAAsB,2BAAtB,GAAoD,OAAO,UAAP,CAAkB,YAAU;AAC5E,sEAAsB,UAAtB,GAD4E,CACxC;AACvC,6CAFmD,EAEjD,CAFiD,CAApD;AAGH,yCAZD;AAaA,8DAAsB,EAAtB,CAAyB,aAAzB,EAAwC,UAAS,KAAT,EAAgB,OAAhB,EAAyB,WAAzB,EAAsC,SAAtC,EAAgD;AACpF;AACA,gDAAG,CAAE,WAAL,EAAiB;AAAE;AACf;AACA;AACH;AACD;AACA,8CAAE,qBAAF,EAAyB,GAAzB,CAA6B,CAA7B,EAAgC,QAAhC,CAAyC,2BAAzC,EAAsE,EAAC,WAAW,MAAZ,EAAtE;AACH,yCARD;AASH,qCA5GD,CA6GA,OAAM,GAAN,EAAU,CAAE,CA7GZ,SA8GQ;AACJ,0CAAE,eAAF,EAAmB,GAAnB,CAAuB,CAAvB,EAA0B,IAA1B,GADI,CAC8B;AACrC;;AAvHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARqB;;AAAA,gCAQN,kBARM;AAAA;AAAA;AAAA;;AAErB,gBAAI,YAAY,EAAE,MAAM,MAAR,CAAhB,CAFqB,CAEY;;AAEjC;AACA;AA6HH,SAxIc;;AA0If;;;AAGA,kBAAU,oBAAU,CACnB,CA9Ic;;AAiJf;;;AAGA;AAAA,gFAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAV;;AAAA;AAAA;AAAA;;AAAA;AAAA,WApJe;;AAuJf;;;AAGA,qBAAa,uBAAU,CAEtB;AA5Jc,KA5FmC;;AA2PtD;;;AAGA,0BAAsB;;AAGlB;;;AAGA,kBAAU,kBAAS,KAAT,EAAe;;AAOrB;AAPqB;AAAA,oFAQrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEQ,CAAC,IAAI,OAAJ,EAAD,IAAkB,eAAe,4BAAf,EAA6C,KAA7C,CAAmD,UAAnD,KAAkE,KAF5F;AAAA;AAAA;AAAA;;AAGQ,+CAAW,kBAAX,EAA+B,GAA/B,EAHR,CAG6C;AAH7C;;AAAA;;AAOI,wCAAG;AACK,iDADL,GACiB,IAAI,GAAG,WAAH,CAAe,SAAnB,CAA6B;AACzC,wDAAY;AAD6B,yCAA7B,CADjB;;AAIC,kDAAU,QAAV,CAAmB,6BAAnB;AACA,kDAAU,UAAV,CAAqB,IAArB,EAA2B,CAA3B;AACH,qCAND,CAOA,OAAM,GAAN,EAAU,CAAE;;AAdhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARqB;;AAAA,gCAQN,kBARM;AAAA;AAAA;AAAA;;AAErB,gBAAI,YAAY,EAAE,MAAM,MAAR,CAAhB,CAFqB,CAEY;;AAEjC;AACA;AAoBH,SA/BiB;;AAiClB;;;AAGA,kBAAU,oBAAU,CACnB,CArCiB;;AAwClB;;;AAGA;AAAA,gFAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAV;;AAAA;AAAA;AAAA;;AAAA;AAAA,WA3CkB;;AA8ClB;;;AAGA,qBAAa,uBAAU,CAEtB;AAnDiB,KA9PgC;;AAoTtD;;;AAGA,2BAAuB;;AAGnB;;;AAGA,kBAAU,kBAAS,KAAT,EAAe;;AAOrB;AAPqB;AAAA,oFAQrB;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEQ,CAAC,IAAI,OAAJ,EAAD,IAAkB,eAAe,4BAAf,EAA6C,KAA7C,CAAmD,UAAnD,KAAkE,KAF5F;AAAA;AAAA;AAAA;;AAGQ,+CAAW,kBAAX,EAA+B,GAA/B,EAHR,CAG6C;AAH7C;;AAAA;;AAOI;AACA,sCAAE,yCAAF,EAA6C,EAA7C,CAAgD,YAAhD,EAA8D,UAAS,eAAT,EAAyB;;AAEnF;AACA,gDAAQ,gBAAgB,aAAhB,CAA8B,KAAtC;AACI,iDAAK,CAAL;AACI;AACA,kDAAE,2BAAF,EAA+B,WAA/B,CAA2C,WAA3C,EAAwD,QAAxD,CAAiE,UAAjE;AACA;;AAEJ,iDAAK,CAAL;AACI;AACA,kDAAE,0BAAF,EAA8B,WAA9B,CAA0C,UAA1C,EAAsD,QAAtD,CAA+D,WAA/D;AACA;AATR;;AAYA;AACA,0CAAE,+BAAF,EAAmC,SAAnC,CAA6C,CAA7C;AACH,qCAjBD;;AAmBA,wCAAG,CAEF,CAFD,CAGA,OAAM,GAAN,EAAU,CAAE;;AA9BhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARqB;;AAAA,gCAQN,kBARM;AAAA;AAAA;AAAA;;AAErB,gBAAI,YAAY,EAAE,MAAM,MAAR,CAAhB,CAFqB,CAEY;;AAEjC;AACA;AAoCH,SA/CkB;;AAiDnB;;;AAGA,kBAAU,oBAAU,CACnB,CArDkB;;AAwDnB;;;AAGA;AAAA,gFAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAV;;AAAA;AAAA;AAAA;;AAAA;AAAA,WA3DmB;;AA8DnB;;;AAGA,qBAAa,uBAAU,CAEtB;AAnEkB,KAvT+B;;AA6XtD;;;AAGA,iCAA6B;;AAGzB;;;AAGA,kBAAU,kBAAS,KAAT,EAAe;;AAOrB;AAPqB;AAAA,oFAQrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEQ,CAAC,IAAI,OAAJ,EAAD,IAAkB,eAAe,4BAAf,EAA6C,KAA7C,CAAmD,UAAnD,KAAkE,KAF5F;AAAA;AAAA;AAAA;;AAGQ,+CAAW,kBAAX,EAA+B,GAA/B,EAHR,CAG6C;AAH7C;;AAAA;;AAOI,wCAAG;AACK,sDADL,GACsB,IAAI,GAAG,OAAH,CAAW,MAAf,CAAsB;AACvC,sDAAU,mBAD6B;AAEvC,qDAAS,4BAF8B;AAGvC,0DAAc;AAHyB,yCAAtB,CADtB;;AAMC,uDAAe,QAAf,CAAwB,4BAAxB;;AAEI,qDARL,GAQqB,IAAI,GAAG,OAAH,CAAW,MAAf,CAAsB;AACtC,sDAAU,mBAD4B;AAEtC,qDAAS,6CAF6B;AAGtC,0DAAc;AAHwB,yCAAtB,CARrB;;AAaC,sDAAc,QAAd,CAAuB,0BAAvB;;AAEI,oDAfL,GAeoB,IAAI,GAAG,OAAH,CAAW,MAAf,CAAsB;AACrC,sDAAU,mBAD2B;AAErC,qDAAS,wBAF4B;AAGrC,0DAAc;AAHuB,yCAAtB,CAfpB;;AAoBC,qDAAa,QAAb,CAAsB,yBAAtB;;AAEI,mDAtBL,GAsBmB,IAAI,GAAG,OAAH,CAAW,MAAf,CAAsB;AACpC,sDAAU,mBAD0B;AAEpC,qDAAS,iBAF2B;AAGpC,0DAAc;AAHsB,yCAAtB,CAtBnB;;AA2BC,oDAAY,QAAZ,CAAqB,wBAArB;AACH,qCA5BD,CA6BA,OAAM,GAAN,EAAU,CAAE;;AApChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARqB;;AAAA,gCAQN,kBARM;AAAA;AAAA;AAAA;;AAErB,gBAAI,YAAY,EAAE,MAAM,MAAR,CAAhB,CAFqB,CAEY;;AAEjC;AACA;AA0CH,SArDwB;;AAuDzB;;;AAGA,kBAAU,oBAAU,CACnB,CA3DwB;;AA8DzB;;;AAGA;AAAA,gFAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAV;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAjEyB;;AAoEzB;;;AAGA,qBAAa,uBAAU,CAEtB;AAzEwB;AAhYyB,CAA1D","file":"controller-compiled.js","sourcesContent":["/**\r\n * Created by UTOPIA SOFTWARE on 18/11/2018.\r\n */\r\n\r\n/**\r\n* file defines all View-Models, Controllers and Event Listeners used by the app\r\n*\r\n* The 'utopiasoftware_app_namespace' namespace variable has being defined in the base js file.\r\n* The author uses the terms 'method' and function interchangeably; likewise the terms 'attribute' and 'property' are\r\n* also used interchangeably\r\n*/\r\n\r\n// define the controller namespace\r\nutopiasoftware[utopiasoftware_app_namespace].controller = {\r\n\r\n    /**\r\n     * method contains the startup/bootstrap code needed to initiate app logic execution\r\n     */\r\n    startup: function(){\r\n\r\n        // initialise the app libraries and plugins\r\n        ons.ready(async function () {\r\n            // set the default handler for the app\r\n            ons.setDefaultDeviceBackButtonListener(function(){\r\n                // does nothing for now!!\r\n            });\r\n\r\n            // displaying prepping message\r\n            $('#loader-modal-message').html(\"Loading App...\");\r\n            $('#loader-modal').get(0).show(); // show loader\r\n\r\n            if(true){ // there is a previous logged in user\r\n                // load the app main page\r\n                $('ons-splitter').get(0).content.load(\"app-main-template\");\r\n\r\n            }\r\n            else{ // there is no previously logged in user\r\n                // load the login page\r\n                $('ons-splitter').get(0).content.load(\"login-template\");\r\n            }\r\n\r\n            // START ALL CORDOVA PLUGINS CONFIGURATIONS\r\n            try{\r\n                // lock the orientation of the device to 'PORTRAIT'\r\n                screen.orientation.lock('portrait');\r\n            }\r\n            catch(err){}\r\n\r\n\r\n            try { // START ALL THE CORDOVA PLUGINS CONFIGURATION WHICH REQUIRE PROMISE SYNTAX\r\n\r\n                // create the pouchdb app database\r\n                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase = new PouchDB('PrintServiceEcommerce.db', {\r\n                    adapter: 'cordova-sqlite',\r\n                    location: 'default',\r\n                    androidDatabaseImplementation: 2\r\n                });\r\n\r\n                // create the encrypted pouchdb app database\r\n                utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase =\r\n                    new PouchDB('PrintServiceEcommerceEncrypted.db', {\r\n                    adapter: 'cordova-sqlite',\r\n                    location: 'default',\r\n                    androidDatabaseImplementation: 2\r\n                });\r\n\r\n                // generate a password for encrypting the app database (if it does NOT already exist)\r\n                if(!window.localStorage.getItem(\"utopiasoftware-oak-print-service-rid\") ||\r\n                    window.localStorage.getItem(\"utopiasoftware-oak-print-service-rid\") === \"\") {\r\n                    window.localStorage.setItem(\"utopiasoftware-oak-print-service-rid\",\r\n                        Random.uuid4(utopiasoftware[utopiasoftware_app_namespace].randomisationEngine));\r\n                }\r\n                // enable the db encryption using the generated password\r\n                await new Promise(function(resolve, reject){\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase.\r\n                    crypto(window.localStorage.getItem(\"utopiasoftware-oak-print-service-rid\"), {\r\n                        ignore: ['_attachments', '_deleted'],\r\n                        cb: function(err, key){\r\n                            if(err){ // there is an error\r\n                                reject(err); // reject Promise\r\n                            }\r\n                            else{ // no error\r\n                                resolve(key); // resolve Promise\r\n                            }\r\n                        }});\r\n                });\r\n\r\n            }\r\n            catch(err){\r\n                console.log(\"APP LOADING ERROR\", err);\r\n            }\r\n            finally{\r\n                // set status bar color\r\n                StatusBar.backgroundColorByHexString(\"#363E7C\");\r\n                navigator.splashscreen.hide(); // hide the splashscreen\r\n                utopiasoftware[utopiasoftware_app_namespace].model.isAppReady = true; // flag that app is fully loaded and ready\r\n            }\r\n\r\n        }); // end of ons.ready()\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Home page\r\n     */\r\n    homePageViewModel: {\r\n\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                try{\r\n                    let newProductsCarousel = new Flickity($('#home-page #home-latest-design-block .row').get(0), {\r\n                        // options\r\n                        wrapAround: true,\r\n                        groupCells: 1,\r\n                        autoPlay: 3000,\r\n                        pauseAutoPlayOnHover: false,\r\n                        dragThreshold: 10,\r\n                        initialIndex: 0,\r\n                        cellAlign: 'left',\r\n                        contain: false,\r\n                        prevNextButtons: false,\r\n                        pageDots: true\r\n                    });\r\n                    newProductsCarousel.on(\"scroll\", function(){\r\n                        // check if the carousel object has a timer attached\r\n                        if(newProductsCarousel._utopiasoftware_scrollTimer){ // there is a timer\r\n                            // clear the timer\r\n                            window.clearTimeout(newProductsCarousel._utopiasoftware_scrollTimer);\r\n                            newProductsCarousel._utopiasoftware_scrollTimer = null;\r\n                        }\r\n\r\n                        // automatically start the the carousel autoplay\r\n                        newProductsCarousel._utopiasoftware_scrollTimer = window.setTimeout(function(){\r\n                            newProductsCarousel.playPlayer(); // start carousel autoplay\r\n                        }, 0);\r\n                    });\r\n                    newProductsCarousel.on(\"staticClick\", function(event, pointer, cellElement, cellIndex){\r\n                        // check if it was a cell that was clicked\r\n                        if(! cellElement){ // it was not a slider cell that was clicked\r\n                            // clear the timer\r\n                            return;\r\n                        }\r\n                        // a cell was clicked, so load the product-details page\r\n                        $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\", {animation: \"lift\"});\r\n                    });\r\n\r\n                    let featuredProductsCarousel = new Flickity($('#home-page #home-featured-design-block .row').get(0), {\r\n                        // options\r\n                        wrapAround: true,\r\n                        groupCells: 1,\r\n                        autoPlay: 4000,\r\n                        pauseAutoPlayOnHover: false,\r\n                        dragThreshold: 10,\r\n                        initialIndex: 0,\r\n                        cellAlign: 'left',\r\n                        contain: false,\r\n                        prevNextButtons: false,\r\n                        pageDots: true\r\n                    });\r\n                    featuredProductsCarousel.on(\"scroll\", function(){\r\n                        // check if the carousel object has a timer attached\r\n                        if(featuredProductsCarousel._utopiasoftware_scrollTimer){ // there is a timer\r\n                            // clear the timer\r\n                            window.clearTimeout(featuredProductsCarousel._utopiasoftware_scrollTimer);\r\n                            featuredProductsCarousel._utopiasoftware_scrollTimer = null;\r\n                        }\r\n\r\n                        // automatically start the the carousel autoplay\r\n                        featuredProductsCarousel._utopiasoftware_scrollTimer = window.setTimeout(function(){\r\n                            featuredProductsCarousel.playPlayer(); // start carousel autoplay\r\n                        }, 0);\r\n                    });\r\n                    featuredProductsCarousel.on(\"staticClick\", function(event, pointer, cellElement, cellIndex){\r\n                        // check if it was a cell that was clicked\r\n                        if(! cellElement){ // it was not a slider cell that was clicked\r\n                            // clear the timer\r\n                            return;\r\n                        }\r\n                        // a cell was clicked, so load the product-details page\r\n                        $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\", {animation: \"lift\"});\r\n                    });\r\n\r\n                    let salesProductsCarousel = new Flickity($('#home-page #home-sales-design-block .row').get(0), {\r\n                        // options\r\n                        wrapAround: true,\r\n                        groupCells: 1,\r\n                        autoPlay: 5000,\r\n                        pauseAutoPlayOnHover: false,\r\n                        dragThreshold: 10,\r\n                        initialIndex: 0,\r\n                        cellAlign: 'left',\r\n                        contain: false,\r\n                        prevNextButtons: false,\r\n                        pageDots: true\r\n                    });\r\n                    salesProductsCarousel.on(\"scroll\", function(){\r\n                        // check if the carousel object has a timer attached\r\n                        if(salesProductsCarousel._utopiasoftware_scrollTimer){ // there is a timer\r\n                            // clear the timer\r\n                            window.clearTimeout(salesProductsCarousel._utopiasoftware_scrollTimer);\r\n                            salesProductsCarousel._utopiasoftware_scrollTimer = null;\r\n                        }\r\n\r\n                        // automatically start the the carousel autoplay\r\n                        salesProductsCarousel._utopiasoftware_scrollTimer = window.setTimeout(function(){\r\n                            salesProductsCarousel.playPlayer(); // start carousel autoplay\r\n                        }, 0);\r\n                    });\r\n                    salesProductsCarousel.on(\"staticClick\", function(event, pointer, cellElement, cellIndex){\r\n                        // check if it was a cell that was clicked\r\n                        if(! cellElement){ // it was not a slider cell that was clicked\r\n                            // clear the timer\r\n                            return;\r\n                        }\r\n                        // a cell was clicked, so load the product-details page\r\n                        $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\", {animation: \"lift\"});\r\n                    });\r\n                }\r\n                catch(err){}\r\n                finally {\r\n                    $('#loader-modal').get(0).hide(); // show loader\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Account page\r\n     */\r\n    accountPageViewModel: {\r\n\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                try{\r\n                    let accordion = new ej.navigations.Accordion({\r\n                        expandMode: 'Single'\r\n                    });\r\n                    accordion.appendTo('#account-personal-accordion');\r\n                    accordion.expandItem(true, 0);\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Products page\r\n     */\r\n    productsPageViewModel: {\r\n\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for when the \"product-layout\" segment is clicked\r\n                $('#products-page #products-layout-segment').on(\"postchange\", function(postChangeEvent){\r\n                    \r\n                    // check which tab was clicked and act accordingly\r\n                    switch (postChangeEvent.originalEvent.index) {\r\n                        case 0:\r\n                            // user selected to display items in 2-column\r\n                            $('#products-page .col-xs-12').removeClass('col-xs-12').addClass('col-xs-6');\r\n                            break;\r\n\r\n                        case 1:\r\n                            // user selected to display items in 1-column\r\n                            $('#products-page .col-xs-6').removeClass('col-xs-6').addClass('col-xs-12');\r\n                            break;\r\n                    }\r\n\r\n                    // scroll to the top of the page\r\n                    $('#products-page .page__content').scrollTop(0);\r\n                });\r\n\r\n                try{\r\n\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Product Details page\r\n     */\r\n    productDetailsPageViewModel: {\r\n\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                try{\r\n                    let wishListButton = new ej.buttons.Button({\r\n                        cssClass: 'e-outline e-small',\r\n                        iconCss: \"zmdi zmdi-favorite-outline\",\r\n                        iconPosition: \"Left\"\r\n                    });\r\n                    wishListButton.appendTo('#product-details-wish-list');\r\n\r\n                    let compareButton = new ej.buttons.Button({\r\n                        cssClass: 'e-outline e-small',\r\n                        iconCss: \"zmdi zmdi-utopiasoftware-icon-scale-balance\",\r\n                        iconPosition: \"Left\"\r\n                    });\r\n                    compareButton.appendTo('#product-details-compare');\r\n\r\n                    let reviewButton = new ej.buttons.Button({\r\n                        cssClass: 'e-outline e-small',\r\n                        iconCss: \"zmdi zmdi-star-outline\",\r\n                        iconPosition: \"Left\"\r\n                    });\r\n                    reviewButton.appendTo('#product-details-review');\r\n\r\n                    let shareButton = new ej.buttons.Button({\r\n                        cssClass: 'e-outline e-small',\r\n                        iconCss: \"zmdi zmdi-share\",\r\n                        iconPosition: \"Left\"\r\n                    });\r\n                    shareButton.appendTo('#product-details-share');\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n        }\r\n    }\r\n};"]}